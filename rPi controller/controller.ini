[serial]
port = 
baud = 1000000
error_threshold = 3

[telemetry]
grace_s = 0.75
retry_s = 2.0

[ui]
verbose = true
mirror = false

[gait]
width_mm = 130.0
lift_mm = 85.0
width_min_mm = 50.0
width_max_mm = 175.0
lift_min_mm = 20.0
lift_max_mm = 100.0
cycle_ms = 2500
step_len_mm = 40.0
base_y_mm = -150.0
max_step_len_mm = 40.0
overlap_pct = 5.0
smoothing_alpha = 0.15
send_divisor = 3
cmd_throttle_ms = 50.0
bezier_p1_height = 0.15
bezier_p1_overshoot = 1.1
bezier_p2_height = 1.5
bezier_p3_height = 0.35
bezier_p3_overshoot = 1.1
turn_max_deg_s = 20.0

[timing]
loop_target_ms = 5.0
teensy_loop_us = 6024
telem_sync_fallback_ms = 50.0
teensy_reconnect_backoff_s = 1.5

[display]
screen_refresh_ms = 100.0
brightness = 100
auto_disable_s = 5.0
thread_enabled = true
thread_hz = 30.0
blink_frame_divisor = 2
engineering_lcars = true

[eyes]
shape = 5
spacing_offset = 10
center_offset = 17
eyelid_angle = 0
blink_percent_step = 0.25
rotation = -10
size_x = 25
size_y = 45
look_range_x = 30.0
look_range_y = 10.0
human_eye_spacing_pct = 0.3
human_eye_size = 38
human_eye_color = 1
color_ellipse = 255,80,20
color_rectangle = 255,255,255
color_roundrect = 10,120,255
color_x = 255,0,0
color_spider = 50,220,50
color_human = 70,130,180
human_color_blue = 70,130,180
human_color_green = 60,140,80
human_color_hazel = 140,110,60
human_color_brown = 100,60,30
human_color_darkbrown = 50,30,20
vertical_offset = -10
crt_mode = false

[menu]
theme = 1
palette = 0

[imu]
enabled = true
bus = 3
address = 0x4A
hz = 100.0
use_game_rotation = false
enable_accel = false
enable_gyro = false
enable_mag = false

[leveling]
enabled = true
gain = 1.0
max_correction_mm = 30.0
filter_alpha = 0.15
pitch_offset = 0.0
roll_offset = 0.0
tilt_limit_deg = 25.0

[tof]
enabled = true
bus = 3
hz = 15.0
resolution = 8
sensors = front_left=0x29, front_right=0x30
filter_mode = light
filter_alpha = 0.5
filter_sigma_threshold = 20
filter_outlier_mm = 100

[est]
cmd_alpha_milli = 150
meas_alpha_milli = 700
meas_vel_alpha_milli = 375

[imp]
enabled = false
mode = cart
scale = 1000
jspring = 0/0/0
jdamp = 0/0/0
cspring = 0/0/0
cdamp = 0/0/0
jdb_cd = 0
cdb_mm = 0.000

[safety_display]
volt_min = 10.5
volt_warn = 11.0
volt_max = 12.2
temp_min = 15.0
temp_max = 70.0
show_battery_icon = true

[pid]
enabled = true
mode = shadow
shadow_hz = 2
kp = 0/0/0
ki = 0/0/0
kd = 0/0/0
kdalph = 200/200/200

[behavior]
enabled = true
obstacle_avoidance = true
cliff_detection = false
caught_foot_recovery = true
patrol = true
wall_following = false
stop_distance_mm = 250
slow_distance_mm = 400
cliff_threshold_mm = 100
snag_position_error_deg = 15.0
snag_timeout_ms = 500
recovery_lift_mm = 50.0
max_recovery_attempts = 3
patrol_duration_s = 60.0
turn_interval_s = 20.0
wall_distance_mm = 200
wall_side = left

[pointcloud]
enabled = true
port = 8765
http_port = 8080
stream_hz = 10.0
accumulate = true
max_points = 50000
voxel_mm = 20.0

[low_battery]
filter_alpha = 0.001
volt_recovery = 10.6

[audio]
enabled = true
volume = 0.7
device = hw:2,0
sounds_dir = assets/sounds

[tts]
enabled = true
engine = piper
voice = Storm
pitch = 80
rate = 140
piper_model = ~/.local/share/piper/en_US-lessac-medium.onnx
gain_db = 10
cooldown_sec = 3.0

